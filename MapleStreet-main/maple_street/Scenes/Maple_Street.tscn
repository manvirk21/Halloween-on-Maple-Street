[gd_scene load_steps=21 format=3 uid="uid://b1j3y7ywd0ahx"]

[ext_resource type="Script" path="res://maple_street/Scripts/maple_street.gd" id="1_xbb3s"]
[ext_resource type="Texture2D" uid="uid://dpimaingcsnm7" path="res://maple_street/Assets/Houses/MouseHouseIIJPEG.jpg" id="2_t3sfn"]
[ext_resource type="Script" path="res://maple_street/Scripts/minigame_enabler.gd" id="3_k28yf"]
[ext_resource type="Texture2D" uid="uid://c3n3b7uyhgvkm" path="res://maple_street/Assets/Houses/BearHouseIIJPEG.jpg" id="3_qwi7m"]
[ext_resource type="Texture2D" uid="uid://c63hxw8llc2u6" path="res://maple_street/Assets/Houses/WIPSecondRowHouses.png" id="4_2dqhn"]
[ext_resource type="Texture2D" uid="uid://dxnky5efvjn2u" path="res://maple_street/Assets/DoorLights/MouseHouseDoorIICropped.png" id="5_4v37p"]
[ext_resource type="Texture2D" uid="uid://d1kjx58e3pw66" path="res://maple_street/Assets/NPC/ColorblockedbearKRAsmall.png" id="5_6qnc0"]
[ext_resource type="Texture2D" uid="uid://xikusl2jfhyr" path="res://maple_street/Assets/DoorLights/BearHouseDoorIICropped.png" id="6_02pr7"]
[ext_resource type="Script" path="res://maple_street/Scripts/UI/UI.gd" id="6_bcvno"]
[ext_resource type="Texture2D" uid="uid://b7hhhwsiu05xr" path="res://maple_street/Assets/NPC/Colorblockedmousesmall.png" id="6_cfwgk"]
[ext_resource type="Texture2D" uid="uid://dmajvt2pqlg7v" path="res://maple_street/Assets/NPC/Resized Raccoon.png" id="7_0l4x6"]
[ext_resource type="Texture2D" uid="uid://b4weqs3uvlsq5" path="res://maple_street/Assets/NPC/Resized Bunny.png" id="8_bk0tn"]
[ext_resource type="Texture2D" uid="uid://c5x1p0owyt4tl" path="res://maple_street/Assets/UI/Inventory_ButtonPNG.png" id="11_7xv4g"]
[ext_resource type="Script" path="res://maple_street/Scripts/UI/Dialog.gd" id="12_ejm64"]
[ext_resource type="Texture2D" uid="uid://bw0c5mxtms8hh" path="res://maple_street/Assets/UI/DialogBoxLineArt.png" id="13_678g1"]
[ext_resource type="Texture2D" uid="uid://dx8uu164iy0f7" path="res://maple_street/Assets/UI/questionMark_transparent.png" id="13_sk14g"]
[ext_resource type="Texture2D" uid="uid://bm1gmqn2tnpx5" path="res://maple_street/Assets/UI/Bunny Text Box PNG.png" id="16_lf1h5"]
[ext_resource type="Texture2D" uid="uid://cldkj1p1c01nk" path="res://maple_street/Assets/UI/Bear Text Box.png" id="17_2ff0b"]
[ext_resource type="Texture2D" uid="uid://pjrm2x627wvg" path="res://maple_street/Assets/UI/Raccoon Text Box.png" id="18_r3alk"]
[ext_resource type="Texture2D" uid="uid://cv6s2bjx6f2vo" path="res://maple_street/Assets/UI/Mouse Text Box.png" id="19_c7aed"]

[node name="MapleStreet" type="Node2D"]
script = ExtResource("1_xbb3s")

[node name="Camera" type="Camera2D" parent="."]
light_mask = 0
visibility_layer = 0
position = Vector2(72, 0)
limit_left = 0
limit_top = 0
limit_right = 7650
limit_bottom = 1080
position_smoothing_enabled = true
position_smoothing_speed = 1.8
drag_horizontal_enabled = true
drag_left_margin = 0.5
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="HousesSprites" type="Node2D" parent="."]

[node name="MouseHouse" type="Sprite2D" parent="HousesSprites"]
position = Vector2(960, 540)
texture = ExtResource("2_t3sfn")

[node name="BearHouse" type="Sprite2D" parent="HousesSprites"]
position = Vector2(2880, 540)
texture = ExtResource("3_qwi7m")

[node name="HouseSet2" type="Sprite2D" parent="HousesSprites"]
position = Vector2(5760, 540)
texture = ExtResource("4_2dqhn")

[node name="NPCsSprites" type="Node2D" parent="."]

[node name="Mouse" type="Sprite2D" parent="NPCsSprites"]
visible = false
position = Vector2(978, 515)
scale = Vector2(0.340491, 0.340491)
texture = ExtResource("6_cfwgk")

[node name="Bear" type="Sprite2D" parent="NPCsSprites"]
visible = false
position = Vector2(3630, 508)
texture = ExtResource("5_6qnc0")

[node name="Bunny" type="Sprite2D" parent="NPCsSprites"]
visible = false
position = Vector2(4596, 503)
texture = ExtResource("8_bk0tn")

[node name="Raccoon" type="Sprite2D" parent="NPCsSprites"]
visible = false
position = Vector2(5952, 592)
texture = ExtResource("7_0l4x6")

[node name="Owl" type="Sprite2D" parent="NPCsSprites"]
visible = false
position = Vector2(6972, 578)
texture = ExtResource("7_0l4x6")

[node name="EnvironmentCollisions" type="StaticBody2D" parent="."]
visible = false
light_mask = 2
collision_layer = 2

[node name="Offscreen" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
light_mask = 2
polygon = PackedVector2Array(48, 264, 93, 1072, 7681, 1080, 7679, 0, 15, -1, 54, 316, -36, 158, -32, -43, 7877, -25, 7850, 1120, -36, 1136, -37, 365)

[node name="Background" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
light_mask = 2
polygon = PackedVector2Array(0, 506, -1, 4, 3842, -1, 3846, 534, 3621, 528, 3564, 530, 3576, 552, 3498.08, 532.446, 3484, 555, 3451, 559, 3455, 537, 3380, 555, 3397, 538, 3316, 545, 3332, 588, 3313, 610, 3254, 633, 3248, 650, 3210, 647, 3205, 628, 3171, 638, 3140, 622, 3133, 587, 3148, 555, 3134, 528, 3031, 530, 3029, 538, 2864, 541, 2817, 563, 2701, 568, 2541, 560, 2528, 535, 2505, 531, 2487, 502, 2475, 478, 2283, 475, 2276, 492, 2251, 547, 2217, 550, 2194, 566, 2144, 562, 2129, 541, 2098, 543, 2088, 559, 1992, 569, 1968, 516, 1569, 514, 1272.68, 523.107, 1261, 471, 1042, 468, 1047, 533, 887, 498, 854, 528, 756, 540, 685, 512, 655, 534, 661.762, 575.841, 644, 576, 641, 540, 614, 555, 591, 549, 509, 549, 483, 556, 425, 532, 432.418, 587.49, 416, 588, 413, 527, 389, 507, 353, 548, 310, 554, 217, 544, 165, 503, 73, 516)

[node name="Background2" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
light_mask = 2
position = Vector2(3847, 9)
polygon = PackedVector2Array(0, 524, -1, 4, 3842, -1, 3832, 523, 3674, 522, 3670, 566, 3588, 586, 3588, 601, 3612, 624, 3629, 649, 3631, 675, 3630, 682, 3616, 681, 3586, 671, 3565, 674, 3549, 672, 3534, 662, 3516, 648, 3499, 646, 3493, 652, 3493, 664, 3500, 686, 3496, 694, 3498, 715, 3508, 735, 3514, 753, 3481, 749, 3473, 744, 3458, 735, 3443, 703, 3427, 678, 3391, 676, 3368, 694, 3319, 725, 3302, 727, 3318, 719, 3331, 683, 3342, 668, 3304, 665, 3253, 674, 3255, 667, 3328, 618.057, 3341, 600, 3349, 586, 3328, 566, 3316, 578, 3290, 577, 3252, 560, 3216, 567, 3180, 588, 3058, 601, 2929, 622, 2802, 618, 2671, 604, 2647, 626, 2618, 639, 2508, 632, 2365, 647, 2207, 661, 2200, 647, 2203, 637, 2091, 598, 2005, 598, 1987, 619, 1976, 649, 1968, 668, 1941, 677, 1872, 670, 1845, 665, 1785, 668, 1746, 676, 1704, 676, 1651, 670, 1597, 647, 1561, 674, 1521, 688, 1453, 687, 1430, 682, 1422, 664, 1418, 628, 1328, 616, 1279, 595, 1280, 577, 1301, 573, 1313, 561, 1331, 550, 1344, 549, 1356, 542, 1365, 532, 1366, 527, 879, 528, 865, 539, 848, 550, 818, 567, 791, 578, 771, 578, 762, 578, 744, 590, 732, 594, 714, 597, 696, 608, 488, 603, 488, 581, 161, 572, 160, 599, 67, 595, 40, 527)

[node name="Pumpkins" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
polygon = PackedVector2Array(3313, 714, 3315, 754, 3350, 767, 3393, 764, 3461, 748, 3453, 704, 3385, 702, 3395, 716)

[node name="GrassAreas" type="Area2D" parent="."]

[node name="NotGrass" type="CollisionPolygon2D" parent="GrassAreas"]
polygon = PackedVector2Array(-1, 984, -3, 1078, 3841, 1083, 3838, 992, 3619, 994, 3629, 975, 3354, 584, 3120, 567, 3076, 666, 3063.75, 666.195, 2879, 992, 2673, 992, 2595, 848, 2618, 839, 2560, 721, 2540, 721, 2537, 707, 2545, 691, 2492, 584, 2480, 576, 2491, 560, 2468, 493, 2280, 490, 2253, 563, 2258, 573, 2225, 623, 2215, 645, 2220, 665, 2199, 686, 2211, 701, 2195, 708, 2179, 761, 2184, 781, 2162, 840, 2175, 849, 2160.26, 863.138, 2144, 922, 2151, 947, 2142, 991, 616, 988, 592, 914, 592, 854, 609, 792, 726, 765, 832, 762, 905, 758, 968, 740, 1056, 710, 1119, 703, 1159, 684, 1172, 612, 1168, 528, 1077, 521, 1072, 590, 1057, 631, 999, 645, 899, 647, 818, 648, 600, 663, 590, 615, 589, 560, 508, 560, 486, 639, 473, 715, 434, 815, 414, 896, 357, 992)

[node name="NotGrass2" type="CollisionPolygon2D" parent="GrassAreas"]
position = Vector2(3837, 3)
polygon = PackedVector2Array(-1, 984, -3, 1078, 3841, 1083, 3842, 987, 3498, 988, 3495, 978, 3504, 974, 3512, 966, 3513, 959, 3506, 954, 3504, 950, 3509, 940, 3508, 933, 3505, 928, 3501, 927, 3488, 925, 3485, 923, 3487, 919, 3485, 917, 3479, 916, 3476, 914, 3482, 912, 3504, 885, 3508, 874, 3506, 868, 3498, 866, 3498, 862, 3506, 853, 3507, 845, 3505, 837, 3493, 827, 3508, 801, 3511, 787, 3507, 777, 3493, 773, 3503, 758, 3490, 756, 3467, 742, 3452, 709, 3437, 685, 3401, 683, 3379, 701, 3356, 716, 3330, 731, 3327, 732, 3316, 747, 3303, 773, 3304, 777, 3307, 787, 3300, 793, 3295, 799, 3288, 810, 3287, 824, 3280, 836, 3278, 842, 3281, 851, 3268, 854, 3263, 859, 3258, 865, 3257, 872, 3249, 873, 3240, 879, 3229, 894, 3230, 901, 3223, 904, 3212, 914, 3212, 922, 3199, 942, 3197, 958, 3205, 967, 3198, 989, 2673, 987, 1854, 990, 1789, 685, 1653, 682, 1565, 983, 466, 985, 389, 631, 496, 632, 497, 588, 172, 579, 172, 620, 243, 623, 99, 985)

[node name="MinigameEnabler" type="Node2D" parent="."]
script = ExtResource("3_k28yf")

[node name="Maze" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="MouseDoorLight" type="Sprite2D" parent="MinigameEnabler/Maze"]
visible = false
position = Vector2(546.375, 506)
scale = Vector2(0.966, 1.01587)
texture = ExtResource("5_4v37p")

[node name="MazeCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Maze"]
light_mask = 4
position = Vector2(218, -101)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(109.676, 281.38, 86.9044, 349.692, 111.535, 386.017, 149.643, 392.523, 190.074, 383.848, 214.24, 350.234, 193.792, 277.585)

[node name="Bowling" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="BearDoorLight" type="Sprite2D" parent="MinigameEnabler/Bowling"]
visible = false
position = Vector2(2380, 412)
scale = Vector2(0.984581, 0.984018)
texture = ExtResource("6_02pr7")

[node name="BowlingCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Bowling"]
light_mask = 4
position = Vector2(2056, -141)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(87.8339, 305.235, 90.1575, 367.583, 151.037, 374.631, 213.776, 366.499, 211.917, 305.235, 148.713, 277.043)

[node name="Runner" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="RunnerDoorLight" type="Sprite2D" parent="MinigameEnabler/Runner"]
visible = false
position = Vector2(4160, 504)
scale = Vector2(1.395, 1.45238)
texture = ExtResource("5_4v37p")

[node name="RunnerCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Runner"]
light_mask = 4
position = Vector2(3832, -104)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(100.846, 370.294, 96.1989, 395.775, 211.452, 401.197, 207.734, 373.005)

[node name="Cupswap" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="CupswapDoorLight" type="Sprite2D" parent="MinigameEnabler/Cupswap"]
visible = false
position = Vector2(5568, 588)
scale = Vector2(1.395, 1.45238)
texture = ExtResource("5_4v37p")

[node name="CupswapCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Cupswap"]
light_mask = 4
position = Vector2(5235, -45)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(100.846, 370.294, 96.1989, 395.775, 211.452, 401.197, 207.734, 373.005)

[node name="Quiz" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="QuizDoorLight" type="Sprite2D" parent="MinigameEnabler/Quiz"]
visible = false
position = Vector2(7306, 295)
scale = Vector2(1.395, 1.45238)
texture = ExtResource("5_4v37p")

[node name="QuizCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Quiz"]
light_mask = 4
position = Vector2(6935, -46)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(82.722, 387.643, 97.1286, 427.763, 196.116, 441.317, 243.054, 392.523, 175.668, 358.367)

[node name="Markers" type="Node2D" parent="."]

[node name="MazeExitPosition" type="Marker2D" parent="Markers"]
position = Vector2(1035, 322)

[node name="InitialTeddyPosition" type="Marker2D" parent="Markers"]
position = Vector2(55, 741)

[node name="Dialog" type="CanvasLayer" parent="."]
process_mode = 3
script = ExtResource("12_ejm64")

[node name="OwlDialogBox" type="Sprite2D" parent="Dialog"]
visible = false
position = Vector2(958, 884)
texture = ExtResource("13_678g1")

[node name="BunnyDialogBox" type="Sprite2D" parent="Dialog"]
visible = false
position = Vector2(958, 884)
texture = ExtResource("16_lf1h5")

[node name="BearDialogBox" type="Sprite2D" parent="Dialog"]
visible = false
position = Vector2(958, 884)
texture = ExtResource("17_2ff0b")

[node name="RaccoonDialogBox" type="Sprite2D" parent="Dialog"]
visible = false
position = Vector2(958, 884)
texture = ExtResource("18_r3alk")

[node name="MouseDialogBox" type="Sprite2D" parent="Dialog"]
visible = false
position = Vector2(958, 884)
texture = ExtResource("19_c7aed")

[node name="NPC_Name" type="Label" parent="Dialog"]
visible = false
offset_left = 440.0
offset_top = 775.0
offset_right = 1721.0
offset_bottom = 968.0
theme_override_colors/font_color = Color(0.329412, 0.729412, 0.478431, 1)
theme_override_font_sizes/font_size = 40
text = "text"
autowrap_mode = 2

[node name="Dialog" type="Label" parent="Dialog"]
visible = false
offset_left = 442.0
offset_top = 831.0
offset_right = 1761.0
offset_bottom = 968.0
theme_override_colors/font_color = Color(0.384314, 0.27451, 0.0509804, 1)
theme_override_font_sizes/font_size = 40
text = "text"
autowrap_mode = 2

[node name="Buttons" type="CanvasLayer" parent="."]
process_mode = 3
script = ExtResource("6_bcvno")

[node name="InventoryButton" type="TextureButton" parent="Buttons"]
offset_left = 1702.0
offset_top = 29.0
offset_right = 1890.0
offset_bottom = 244.0
texture_normal = ExtResource("11_7xv4g")

[node name="HelpButton" type="TextureButton" parent="Buttons"]
offset_left = 1820.0
offset_top = 250.0
offset_right = 1892.0
offset_bottom = 325.0
texture_normal = ExtResource("13_sk14g")

[connection signal="body_entered" from="GrassAreas" to="." method="_on_Teddy_exits_grass"]
[connection signal="body_exited" from="GrassAreas" to="." method="_on_Teddy_enters_grass"]
[connection signal="body_entered" from="MinigameEnabler/Maze" to="MinigameEnabler" method="_maze_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Maze" to="MinigameEnabler" method="_maze_area_exited"]
[connection signal="body_entered" from="MinigameEnabler/Bowling" to="MinigameEnabler" method="_bowling_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Bowling" to="MinigameEnabler" method="_bowling_area_exited"]
[connection signal="body_entered" from="MinigameEnabler/Runner" to="MinigameEnabler" method="_runner_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Runner" to="MinigameEnabler" method="_runner_area_exited"]
[connection signal="body_entered" from="MinigameEnabler/Cupswap" to="MinigameEnabler" method="_cupswap_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Cupswap" to="MinigameEnabler" method="_cupswap_area_exited"]
[connection signal="body_entered" from="MinigameEnabler/Quiz" to="MinigameEnabler" method="_quiz_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Quiz" to="MinigameEnabler" method="_quiz_area_exited"]
[connection signal="pressed" from="Buttons/InventoryButton" to="Buttons" method="toggle_inventory"]
[connection signal="pressed" from="Buttons/HelpButton" to="Buttons" method="toggle_inventory"]
