[gd_scene load_steps=5 format=3 uid="uid://boe3f77hx3xwy"]

[ext_resource type="Script" path="res://Scripts/maple_street.gd" id="1_xbb3s"]
[ext_resource type="Script" path="res://Scripts/minigame_enabler.gd" id="3_k28yf"]
[ext_resource type="Texture2D" uid="uid://drngjpwdw3xo5" path="res://Assets/Mouse_House.jpg" id="3_lw0nu"]
[ext_resource type="Texture2D" uid="uid://bmaok0o30bx5q" path="res://Assets/Bear_Bowling_Linework.jpg" id="4_hhc16"]

[node name="MapleStreet" type="Node2D"]
script = ExtResource("1_xbb3s")

[node name="MouseHouse" type="Sprite2D" parent="."]
position = Vector2(960, 540)
texture = ExtResource("3_lw0nu")

[node name="BearHouse" type="Sprite2D" parent="."]
position = Vector2(2880, 540)
texture = ExtResource("4_hhc16")

[node name="Camera" type="Camera2D" parent="."]
light_mask = 0
visibility_layer = 0
limit_left = 0
limit_top = 0
limit_right = 3840
limit_bottom = 1080
position_smoothing_enabled = true
position_smoothing_speed = 1.8
drag_horizontal_enabled = true
drag_left_margin = 0.5
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="EnvironmentCollisions" type="StaticBody2D" parent="."]
light_mask = 2
collision_layer = 2

[node name="Offscreen" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
light_mask = 2
polygon = PackedVector2Array(0, 246, 0, 1079, 3841, 1081, 3844, 2, 0, 0, 1, 309, -36, 158, -32, -43, 3890, -44, 3896, 1119, -36, 1136, -37, 365)

[node name="Background" type="CollisionPolygon2D" parent="EnvironmentCollisions"]
light_mask = 2
polygon = PackedVector2Array(4, 521, -1, 4, 3842, -1, 3842, 486, 3699, 484, 3718, 516, 3703, 539, 3628, 576, 3621, 619, 3608, 747, 3598, 765, 3620, 774, 3627, 798, 3446, 798, 3453, 778, 3476, 761, 3426, 652, 3421, 606, 3416.09, 586.256, 3424, 535, 3380, 520, 3358, 487, 3309, 485, 3306, 539, 3321, 579, 3308, 612, 3291, 618, 3280, 633, 3250, 634, 3244, 651, 3222, 664, 3204, 652, 3196.62, 638.701, 3170, 645, 3153, 630, 3131, 622, 3124, 586, 3142, 553, 3124, 511, 3134.83, 488.036, 3024, 487, 3018, 532, 3009, 571, 2968, 576, 2969, 602, 3034, 679, 3058, 682, 3080, 753, 3061, 787, 3018, 790, 3000, 818, 2890, 821, 2887, 767, 2839, 763, 2790, 732, 2826, 677, 2881, 602, 2853, 589, 2841, 556, 2533, 556, 2522, 517, 2481, 521, 2458, 499, 2282, 500, 2241, 523, 2216, 525, 2210, 537, 2170, 545, 2139, 532, 2114, 535, 2068, 565, 2019, 566, 2007, 549, 1987, 556, 1964, 516, 1957, 486, 1913, 522, 1796, 517, 1524.82, 511.872, 1401, 531, 1272.68, 523.107, 1261, 366, 1080, 370, 1064, 444, 1081, 471, 1052, 527, 897, 500, 821, 545, 736, 549, 691, 516, 641, 548, 511, 566, 376, 537, 279, 551, 215, 541, 181.175, 507.148, 157, 507)

[node name="MinigameEnabler" type="Node2D" parent="."]
script = ExtResource("3_k28yf")

[node name="Maze" type="Area2D" parent="MinigameEnabler"]
light_mask = 4
collision_layer = 4

[node name="MazeCollision" type="CollisionPolygon2D" parent="MinigameEnabler/Maze"]
light_mask = 4
position = Vector2(218, -101)
scale = Vector2(2.15179, 1.84448)
polygon = PackedVector2Array(109.676, 281.38, 103.635, 333.969, 107.817, 371.378, 149.643, 392.523, 189.61, 368.125, 198.439, 334.512, 193.792, 277.585)

[node name="InitialTeddyPosition" type="Marker2D" parent="."]
position = Vector2(58, 600)

[connection signal="body_entered" from="MinigameEnabler/Maze" to="MinigameEnabler" method="_maze_area_entered"]
[connection signal="body_exited" from="MinigameEnabler/Maze" to="MinigameEnabler" method="_maze_area_exited"]
